<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
    <head>
        <title>LABEL : Configuration Management</title>
        <link rel="stylesheet" href="styles/site.css" type="text/css" />
        <META http-equiv="Content-Type" content="text/html; charset=UTF-8">
    </head>

    <body>
        <div id="page">
            <div id="main">
                <div id="main-header" class="pageSectionHeader">
                    <h1 id="title-heading" class="pagetitle">
                                                <span id="title-text">
                            LABEL : Configuration Management
                        </span>
                    </h1>

                    <div class="page-metadata">
                        <p>This page last changed on Jul 06, 2015 by <font color="#0050B2">joshua.phillips</font>.</p>
                    </div>
                </div>

                <div id="content" class="view">
                    <div id="main-content" class="wiki-content group">
                    <p><style type='text/css'>/*<![CDATA[*/
div.rbtoc1436281399603 {padding: 0px;}
div.rbtoc1436281399603 ul {list-style: disc;margin-left: 0px;}
div.rbtoc1436281399603 li {margin-left: 0px;padding-left: 0px;}

/*]]>*/</style><div class='toc-macro rbtoc1436281399603'>
<ul class='toc-indentation'>
<li><a href='#ConfigurationManagement-Overview'>Overview</a></li>
<li><a href='#ConfigurationManagement-VersionControlProcess'>Version Control Process</a></li>
<li><a href='#ConfigurationManagement-CollaborationProcess'>Collaboration Process</a></li>
<li><a href='#ConfigurationManagement-ReleaseProcess'>Release Process</a></li>
<li><a href='#ConfigurationManagement-DeploymentProcess'>Deployment Process</a></li>
<li><a href='#ConfigurationManagement-SourceCodeRepositoryStructure'>Source Code Repository Structure</a></li>
<li><a href='#ConfigurationManagement-EnvironmentConfigurationItems'>Environment Configuration Items</a></li>
<li><a href='#ConfigurationManagement-Credentials'>Credentials</a></li>
<li><a href='#ConfigurationManagement-Third-PartySoftware'>Third-Party Software</a></li>
</ul>
</div></p><p> </p><h1 id="ConfigurationManagement-Overview">Overview</h1><p>This page describes our Agile configuration management process.</p><p> </p><h1 id="ConfigurationManagement-VersionControlProcess">Version Control Process</h1><p>All source code and configuration artifacts will be pushed to the Git repository on an at least daily process. The Git repository is <a href="https://github.com/semanticbits/label" class="external-link" rel="nofollow">here</a>.</p><p> </p><h1 id="ConfigurationManagement-CollaborationProcess">Collaboration Process</h1><p>We follow the GitFlow workflow as described <a href="https://www.atlassian.com/git/tutorials/comparing-workflows/feature-branch-workflow" class="external-link" rel="nofollow">here</a>, utilizing the <a href="https://github.com/nvie/gitflow" class="external-link" rel="nofollow">git-flow plugin</a>. We use the default branch naming model - e.g. release/1.0 not release-1.0. Feature branches are named according to the user story being implemented - e.g. feature/LABEL-123.</p><p> </p><h1 id="ConfigurationManagement-ReleaseProcess">Release Process</h1><p>In projects of normal length (e.g. at least three months), we would create a release branch at the end of each sprint. However, since this project is only a few days, we will create a single release branch 1.0, which will be pushed to the master branch when it has passed all UATs for this release.</p><p>Required artifacts for release include:</p><ul><li>Release Notes: A file named RELEASE_NOTES.pdf, exported from JIRA</li><li>Documentation: A file named LABEL_DOCS.pdf, exported from Confluence.</li><li>Executable: A file named label.war, generated by the Release (UAT) Build (see below).</li><li>Source Code: Delivered daily to the Git repository and tagged for each release.</li></ul><p>The above artifacts are check into the docs directory of the Git repository in the release branch.</p><p>For this project, we will produce a single release, named 1.0. Each release build that is deployed to the UAT instance will be tagged with as release-1.0-RC1, release-1.0-RC2, etc. The 1.0 release will have the tag release-1.0.</p><p> </p><h1 id="ConfigurationManagement-DeploymentProcess">Deployment Process</h1><p>Our deployment process is entirely automated via Jenkins builds:</p><ul><li>Integration Build (label-dev): This build deploys to our DEV instance on a nightly basis, but can be triggered manually via the Jenkins UI. It is a child of label-unit &gt; label-integration &gt; label-functional, which must all pass.</li><li>Release/UAT (label-uat): This build deploys to our QA/UAT instance. It deploys from a given tag. It is trigged manually via the Jenkins UI.</li></ul><h1 id="ConfigurationManagement-SourceCodeRepositoryStructure">Source Code Repository Structure</h1><p>The Git repository has the following structure, under each branch.</p><ul><li><strong>code:</strong> All application software.<ul><li>LABEL: The LABEL Grails application. This directory follows the normal <a href="https://grails.org/wiki/Quick%20Start#Create a Grails project" class="external-link" rel="nofollow">Grails project structure</a>.</li></ul></li><li><strong>docs:</strong> Documentation artifacts.<ul><li>RELEASE_NOTES.pdf: Release notes exported from JIRA.</li><li>LABEL_DOCS.pdf: Documentation exported from Confluence.</li></ul></li><li><strong>vm:</strong> DevOps artifacts - e.g. Vagrant, Chef, Bash, etc. scripts for automating the environment.</li></ul><p> </p><h1 id="ConfigurationManagement-EnvironmentConfigurationItems">Environment Configuration Items</h1><p>We have provisioned three environments for this project:</p><ul><li>DEV: Used for integration testing.</li><li>QA: Used for QA verification and UAT.</li><li>CI: Used for continuous integration and automated testing.</li></ul><p>Within the LABEL Grails application, configuration items are externalized in ~/.label/label-config.groovy. The configuration has the following general structure.</p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="theme: Confluence; brush: groovy; gutter: false" style="font-size:12px;">env=System.getenv() //Access to shell environment variables
//Common configuration items
environments{
   dev{
      //DEV specific items
   }
   qa{
      //QA specific items
   }
   ci{
      //CI specific items
   }
}</pre>
</div></div><p> </p><p>Following are the configuration items that we track. Changes to these items must be discuss with the team and approved by the Architect. <span style="color: rgb(0,0,0);line-height: 1.4285715;background-color: transparent;">AWS configuration items below are set as environment variables on a developer's workstation and are passed to Vagrant scripts when executing </span><code style="color: rgb(0,0,0);line-height: 1.4285715;background-color: transparent;">vagrant up</code><span style="color: rgb(0,0,0);line-height: 1.4285715;background-color: transparent;">.</span></p><div class="table-wrap"><table class="confluenceTable"><tbody><tr><th class="confluenceTh">Identifier</th><th colspan="1" class="confluenceTh">Value</th><th class="confluenceTh">Description</th></tr><tr><td class="confluenceTd">AWS_DEV_ELASTIC_IP</td><td colspan="1" class="confluenceTd">54.175.56.188</td><td class="confluenceTd">The IP address of the DEV server.</td></tr><tr><td colspan="1" class="confluenceTd">AWS_QA_ELASTIC_IP</td><td colspan="1" class="confluenceTd">54.175.144.58</td><td colspan="1" class="confluenceTd">The IP address of the QA server.</td></tr><tr><td colspan="1" class="confluenceTd">AWS_CI_ELASTIC_IP</td><td colspan="1" class="confluenceTd">54.172.116.12</td><td colspan="1" class="confluenceTd">The IP address of the CI server.</td></tr><tr><td colspan="1" class="confluenceTd">AWS_SUBNET</td><td colspan="1" class="confluenceTd">subnet-fb5896d0</td><td colspan="1" class="confluenceTd">A subnet in which to create instances without elastic IP addresses, such as Jenkins slaves.</td></tr><tr><td colspan="1" class="confluenceTd">AWS_CI_SLAVE01_IP</td><td colspan="1" class="confluenceTd">172.31.31.253</td><td colspan="1" class="confluenceTd">The IP address of the Jenkins Linux slave that belongs to the subnet above.</td></tr><tr><td colspan="1" class="confluenceTd">AWS_WIN_PASSWORD</td><td colspan="1" class="confluenceTd">***</td><td colspan="1" class="confluenceTd">The password to the Jenkins Windows slave.</td></tr><tr><td colspan="1" class="confluenceTd">OPENFDA_URL</td><td colspan="1" class="confluenceTd"><a href="https://api.fda.gov/drug/label.json" class="external-link" rel="nofollow">https://api.fda.gov/drug/label.json</a></td><td colspan="1" class="confluenceTd">The URL of the OpenFDA API.</td></tr><tr><td colspan="1" class="confluenceTd">OPENFDA_KEY</td><td colspan="1" class="confluenceTd">***</td><td colspan="1" class="confluenceTd">The API key for the OpenFDA API.</td></tr></tbody></table></div><p> </p><h1 id="ConfigurationManagement-Credentials">Credentials</h1><p>All credentials are stored in a secure location that is managed by the Product Owner. All scripts and code access credentials via environment variables or protected files. They are never checked in to the source code repository. The following credentials are used by this project.</p><ul><li>OpenFDA API Key: Used to interact with the OpenFDA API.</li><li>AWS Access Key ID and AWS Secret Key: Used to interact with AWS APIs.</li><li>AWS Environment Keypair: We use a key pair to enable password-less login for DevOps automation.</li><li>GitHub OAuth Token: Used by Git to pull the code on the EC2 VMs.</li><li>GitHub Client ID and Secret: We are using GitHub as an identity provider for Jenkins. CI authenticates users via GitHub.</li></ul><p>AWS credentials are associated with specific a specific AWS policy that restricts access to the environment.</p><p> </p><h1 id="ConfigurationManagement-Third-PartySoftware">Third-Party Software</h1><p>Following are the major third-party software components used by this project.</p><div class="table-wrap"><table class="confluenceTable"><tbody><tr><th class="confluenceTh">Name</th><th colspan="1" class="confluenceTh">Version</th><th class="confluenceTh">Description</th><th class="confluenceTh">License</th></tr><tr><td colspan="1" class="confluenceTd"><a href="https://grails.org/" class="external-link" rel="nofollow">Grails</a></td><td colspan="1" class="confluenceTd">2.5.0</td><td colspan="1" class="confluenceTd">A web-development framework, based on Groovy and the Java ecosystem.</td><td colspan="1" class="confluenceTd">Apache License Version 2.0 (<a href="https://grails.org/wiki/License" class="external-link" rel="nofollow">https://grails.org/wiki/License</a>)</td></tr><tr><td colspan="1" class="confluenceTd"><span><a href="https://github.com/zxing/zxing" class="external-link" rel="nofollow">ZXing</a></span></td><td colspan="1" class="confluenceTd">2.3.8</td><td colspan="1" class="confluenceTd"><span>ZXing (&quot;zebra crossing&quot;) is an open-source, multi-format 1D/2D barcode image processing library implemented in Java,</span></td><td colspan="1" class="confluenceTd"><span style="color: rgb(106,106,106);">Apache License Version 2.0 (</span><a href="https://github.com/zxing/zxing/blob/master/COPYING" class="external-link" rel="nofollow">https://github.com/zxing/zxing/blob/master/COPYING</a><span style="color: rgb(106,106,106);">)</span></td></tr><tr><td colspan="1" class="confluenceTd"><a href="https://jquery.com/" class="external-link" rel="nofollow">jQuery</a></td><td colspan="1" class="confluenceTd">1.11.1</td><td colspan="1" class="confluenceTd">A JavaScript library.</td><td colspan="1" class="confluenceTd">MIT License (<a href="https://jquery.org/license/" class="external-link" rel="nofollow">https://jquery.org/license/</a>)</td></tr><tr><td colspan="1" class="confluenceTd"><a href="http://getbootstrap.com/" class="external-link" rel="nofollow">Twitter Bootstrap</a></td><td colspan="1" class="confluenceTd">3.3.1</td><td colspan="1" class="confluenceTd">A responsive HTML, CSS, and JavaScript library.</td><td colspan="1" class="confluenceTd">MIT License (<a href="https://github.com/twbs/bootstrap/blob/master/LICENSE" class="external-link" rel="nofollow">https://github.com/twbs/bootstrap/blob/master/LICENSE</a>)</td></tr><tr><td class="confluenceTd"><a href="https://www.datatables.net/" class="external-link" rel="nofollow">DataTables </a>(jquery.dataTables.min.js)</td><td colspan="1" class="confluenceTd">1.10.7</td><td class="confluenceTd"><span>DataTables is a plug-in for the</span><span> Javascript library. It is a highly flexible tool, based upon the foundations of progressive enhancement, and will add advanced interaction controls to any HTML table.</span></td><td class="confluenceTd">MIT License (<a href="http://datatables.net/license" class="external-link" rel="nofollow">http://datatables.net/license</a>)</td></tr><tr><td colspan="1" class="confluenceTd"><a href="http://www.gebish.org/" class="external-link" rel="nofollow">Geb</a></td><td colspan="1" class="confluenceTd">0.10.0</td><td colspan="1" class="confluenceTd">Geb is a browser automation framework built on jQuery and Selenium WebDriver.</td><td colspan="1" class="confluenceTd">Apache License Version 2.0 (<a href="https://github.com/geb/geb/blob/master/LICENSE" class="external-link" rel="nofollow">https://github.com/geb/geb/blob/master/LICENSE</a>)</td></tr><tr><td colspan="1" class="confluenceTd"><a href="http://www.seleniumhq.org/projects/webdriver/" class="external-link" rel="nofollow">Selenium WebDriver</a></td><td colspan="1" class="confluenceTd">2.45.0</td><td colspan="1" class="confluenceTd">Browser automation API.</td><td colspan="1" class="confluenceTd">Apache License Version 2.0 (<a href="http://www.seleniumhq.org/about/license.jsp" class="external-link" rel="nofollow">http://www.seleniumhq.org/about/license.jsp</a>)</td></tr><tr><td colspan="1" class="confluenceTd"><a href="https://www.vagrantup.com/" class="external-link" rel="nofollow">Vagrant</a></td><td colspan="1" class="confluenceTd">1.7.2</td><td colspan="1" class="confluenceTd">A DevOps automation tool. We use it to provision our AWS-based environment.</td><td colspan="1" class="confluenceTd">MIT License (<a href="https://github.com/mitchellh/vagrant/blob/master/LICENSE" class="external-link" rel="nofollow">https://github.com/mitchellh/vagrant/blob/master/LICENSE</a>)</td></tr><tr><td colspan="1" class="confluenceTd"><a href="https://www.chef.io/chef/" class="external-link" rel="nofollow">Chef</a></td><td colspan="1" class="confluenceTd">12</td><td colspan="1" class="confluenceTd">A DevOps automation tool. We use it with Vagrant.</td><td colspan="1" class="confluenceTd">Apache License Version 2.0 (<a href="https://github.com/chef/chef/blob/master/LICENSE" class="external-link" rel="nofollow">https://github.com/chef/chef/blob/master/LICENSE</a>)</td></tr></tbody></table></div><p> </p><p> </p><p> </p>
                    </div>

                    
                 
                </div>             </div> 
            <div id="footer" style="background: url(https://projects.semanticbits.com/confluence/images/border/border_bottom.gif) repeat-x;">
                <p><small>Document generated by Confluence on Jul 07, 2015 11:03</small></p>
            </div>
        </div>     </body>
</html>
