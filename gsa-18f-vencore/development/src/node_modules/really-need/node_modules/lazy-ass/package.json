{
  "name": "lazy-ass",
  "description": "Lazy assertions without performance penalty",
  "version": "0.5.4",
  "author": {
    "name": "Gleb Bahmutov",
    "email": "gleb.bahmutov@gmail.com"
  },
  "bugs": {
    "url": "https://github.com/bahmutov/lazy-ass/issues"
  },
  "contributors": [],
  "dependencies": {},
  "devDependencies": {
    "bad-line": "0.0.2",
    "coveralls": "2.11.2",
    "cute-stack": "1.0.2",
    "expect.js": "0.3.1",
    "grunt": "0.4.5",
    "grunt-banner": "0.2.3",
    "grunt-clean-console": "0.1.1",
    "grunt-contrib-concat": "0.5.0",
    "grunt-contrib-copy": "0.7.0",
    "grunt-contrib-jshint": "0.10.0",
    "grunt-contrib-uglify": "0.7.0",
    "grunt-contrib-watch": "0.6.1",
    "grunt-deps-ok": "0.5.2",
    "grunt-gh-pages": "0.10.0",
    "grunt-karma": "0.9.0",
    "grunt-mocha-test": "0.11.0",
    "grunt-nice-package": "0.9.2",
    "grunt-npm2bower-sync": "0.4.0",
    "jshint-stylish": "0.4.0",
    "karma": "0.12.28",
    "karma-chrome-launcher": "0.1.7",
    "karma-coverage": "0.2.7",
    "karma-mocha": "0.1.10",
    "karma-phantomjs-launcher": "0.1.4",
    "matchdep": "0.3.0",
    "mocha": "1.21.5",
    "pre-git": "0.1.1",
    "time-grunt": "0.4.0"
  },
  "engines": {
    "node": "> 0.8"
  },
  "homepage": "https://github.com/bahmutov/lazy-ass",
  "keywords": [
    "lazy",
    "assertion",
    "assertions",
    "debugging",
    "defensive",
    "node",
    "browser"
  ],
  "license": "MIT",
  "main": "index.js",
  "pre-commit": [
    "npm test",
    "npm version"
  ],
  "repository": {
    "type": "git",
    "url": "git@github.com:bahmutov/lazy-ass.git"
  },
  "scripts": {
    "test": "grunt test",
    "watch": "grunt watch",
    "coveralls": "cat coverage/PhantomJS*/lcov.info | ./node_modules/coveralls/bin/coveralls.js"
  },
  "readme": "# lazy-ass\n\n> Lazy assertions without performance penalty\n\n[![NPM][lazy-ass-icon] ][lazy-ass-url]\n\n[![Build status][lazy-ass-ci-image] ][lazy-ass-ci-url]\n[![Coverage Status][lazy-ass-coverage-image]][lazy-ass-coverage-url]\n[![Codacy][lazy-ass-codacy-image]][lazy-ass-codacy-url]\n[![Code Climate][lazy-ass-code-climate-image]][lazy-ass-code-climate-url]\n[![dependencies][lazy-ass-dependencies-image] ][lazy-ass-dependencies-url]\n[![devdependencies][lazy-ass-devdependencies-image] ][lazy-ass-devdependencies-url]\n\n[Demo](http://glebbahmutov.com/lazy-ass/)\n\n## Example\n\nRegular assertions evaluate all arguments and concatenate message\nEVERY time, even if the condition is true.\n\n```js\nconsole.assert(typeof foo === 'object',\n  'expected ' + JSON.stringify(foo, null, 2) + ' to be an object');\n```\n\nLazy assertion function evaluates its arguments and forms\na message ONLY IF the condition is false\n\n```js\nlazyAss(typeof foo === 'object', 'expected', foo, 'to be an object');\n```\n\nConcatenates strings, stringifies objects, calls functions - only if\ncondition is false.\n\n```js\nfunction environment() {\n  // returns string\n}\nvar user = {} // an object\nlazyAsync(condition, 'something went wrong for', user, 'in', environment);\n// throws an error with message equivalent of\n// 'something went wrong for ' + JSON.stringify(user) + ' in ' + environment()\n```\n\n## Why?\n\n* Passing an object reference to a function is about\n[2000-3000 times faster](http://jsperf.com/object-json-stringify)\nthan serializing an object and passing it as a string.\n* Concatenating 2 strings before passing to a function is about\n[30% slower](http://jsperf.com/string-concat-vs-pass-string-reference)\nthan passing 2 separate strings.\n\n## Install\n\nNode: `npm install lazy-ass --save` then `require('lazy-ass');`, \nattaches functions `lazyAss` and `la` to `global` object.\n\nBrowser: `bower install lazy-ass --save`, include `index.js`,\nattaches functions `lazyAss` and `la` to `window` object.\n\n## Notes\n\nYou can pass as many arguments to *lazyAss* after the condition. The condition\nwill be evaluated every time (this is required for any assertion). The rest of arguments\nwill be concatenated according to rules\n\n* string will be left unchanged.\n* function will be called and its output will be concatenated.\n* any array or object will be JSON stringified.\n\nThere will be single space between the individual parts.\n\n## Lazy async assertions\n\nSometimes you do not want to throw an error synchronously, breaking the entire\nexecution stack. Instead you can throw an error asynchronously using `lazyAssync`,\nwhich internally implements logic like this:\n\n```js\nif (!condition) {\n  setTimeout(function () {\n    throw new Error('Conditions is false!');\n  }, 0);\n}\n```\n\nThis allows the execution to continue, while your global error handler (like\nmy favorite [Sentry](http://bahmutov.calepin.co/know-unknown-unknowns-with-sentry.html))\ncan still forward the error with all specified information to your server.\n\n```js\nlazyAssync(false, 'foo');\nconsole.log('after assync');\n// output\nafter assync\nUncaught Error: foo\n```\n\nIn this case, there is no meaningful error stack, so use good message\narguments - there is no performance penalty!\n\n## Predicate function as a condition\n\nTypically, JavaScript evaluates the condition expression first, then calls *lazyAss*.\nThis means the function itself sees only the true / false result, and not the expression\nitself. This makes makes the error messages cryptic\n\n    lazyAss(2 + 2 === 5);\n    // Error\n\nWe usually get around this by giving at least one additional message argument to\nexplain the condition tested\n\n    lazyAss(2 + 2 === 5, 'addition')\n    // Error: addition\n\n*lazyAss* has a better solution: if you give a function that evaluates the condition\nexpression, if the function returns false, the error message will include the source\nof the function, making the extra arguments unnecessary\n\n    lazyAss(function () { return 2 + 2 === 5; });\n    // Error: function () { return 2 + 2 === 5; }\n\nThe condition function has access to any variables in the scope, making it extremely\npowerful\n\n    var foo = 2, bar = 2;\n    lazyAss(function () { return foo + bar === 5; });\n    // Error: function () { return foo + bar === 5; }\n\nIn practical terms, I recommend using separate predicates function and\npassing relevant values to the *lazyAss* function. Remember, there is no performance\npenalty!\n\n    var foo = 2, bar = 2;\n    function isValidPair() {\n      return foo + bar === 5;\n    }\n    lazyAss(isValidPair, 'foo', foo, 'bar', bar);\n    // Error: function isValidPair() {\n    //   return foo + bar === 5;\n    // } foo 2 bar 2\n\n## Testing\n\nThis library is fully tested under Node and inside browser environment (CasperJs).\nI described how one can test asynchronous assertion throwing in your own projects\nusing Jasmine in [a blog post](http://bahmutov.calepin.co/testing-async-lazy-assertion.html).\n\n### Small print\n\nAuthor: Gleb Bahmutov &copy; 2014\n\n* [@bahmutov](https://twitter.com/bahmutov)\n* [glebbahmutov.com](http://glebbahmutov.com)\n* [blog](http://bahmutov.calepin.co/)\n\nLicense: MIT - do anything with the code, but don't blame me if it does not work.\n\nSpread the word: tweet, star on github, etc.\n\nSupport: if you find any problems with this module, email / tweet /\n[open issue](https://github.com/bahmutov/lazy-ass/issues) on Github\n\n## MIT License\n\nCopyright (c) 2014 Gleb Bahmutov\n\nPermission is hereby granted, free of charge, to any person\nobtaining a copy of this software and associated documentation\nfiles (the \"Software\"), to deal in the Software without\nrestriction, including without limitation the rights to use,\ncopy, modify, merge, publish, distribute, sublicense, and/or sell\ncopies of the Software, and to permit persons to whom the\nSoftware is furnished to do so, subject to the following\nconditions:\n\nThe above copyright notice and this permission notice shall be\nincluded in all copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\nEXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES\nOF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\nNONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\nHOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,\nWHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\nFROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR\nOTHER DEALINGS IN THE SOFTWARE.\n\n[lazy-ass-icon]: https://nodei.co/npm/lazy-ass.png?downloads=true\n[lazy-ass-url]: https://npmjs.org/package/lazy-ass\n[lazy-ass-ci-image]: https://travis-ci.org/bahmutov/lazy-ass.png?branch=master\n[lazy-ass-ci-url]: https://travis-ci.org/bahmutov/lazy-ass\n[lazy-ass-coverage-image]: https://coveralls.io/repos/bahmutov/lazy-ass/badge.png\n[lazy-ass-coverage-url]: https://coveralls.io/r/bahmutov/lazy-ass\n[lazy-ass-code-climate-image]: https://codeclimate.com/github/bahmutov/lazy-ass/badges/gpa.svg\n[lazy-ass-code-climate-url]: https://codeclimate.com/github/bahmutov/lazy-ass\n[lazy-ass-codacy-image]: https://www.codacy.com/project/badge/b60a0810c9af4fe4b2ae685932dbbdb8\n[lazy-ass-codacy-url]: https://www.codacy.com/public/bahmutov/lazy-ass.git\n[lazy-ass-dependencies-image]: https://david-dm.org/bahmutov/lazy-ass.png\n[lazy-ass-dependencies-url]: https://david-dm.org/bahmutov/lazy-ass\n[lazy-ass-devdependencies-image]: https://david-dm.org/bahmutov/lazy-ass/dev-status.png\n[lazy-ass-devdependencies-url]: https://david-dm.org/bahmutov/lazy-ass#info=devDependencies\n",
  "readmeFilename": "README.md",
  "_id": "lazy-ass@0.5.4",
  "dist": {
    "shasum": "6e14317e5056db738c6b8fe96fb0383ca26a2c06"
  },
  "_from": "lazy-ass@0.5.4",
  "_resolved": "https://registry.npmjs.org/lazy-ass/-/lazy-ass-0.5.4.tgz"
}
